<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trái cây bốn mùa - Sản phẩm</title>
    <link rel="stylesheet" href="/asset/css/style.css">

</head>

<body>
    <!-- header -->
    <nav class="navbar navbar-expand-md navbar-dark sticky-top bg-dark">
        <div class="container">
            <div class="row w-100">
                <div class="col-3 col-md-1">
                    <img class="navbar-brand w-100" src="/asset/img/logo_4sf.png">
                </div>
                <!-- Thanh điều hướng (Navbar) trên điện thoại -->
                <div class="col-7 col-md-7 d-flex align-items-center justify-content-end d-md-none">
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                        data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false"
                        aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                </div>
                <div class="col-2 col-md-7 d-flex align-items-center justify-content-end d-md-none">
                    <button class="navbar-toggler d-md-none" type="button" data-bs-toggle="collapse"
                        data-bs-target="#cartUserCollapse" aria-controls="cartUserCollapse" aria-expanded="false"
                        aria-label="Toggle cart and user">
                        <i class="fa-solid fa-user"></i>
                    </button>
                </div>

                <div class="col-12 col-md-5 d-flex align-items-center">
                    <div class="navbar-collapse collapse" id="navbarCollapse">
                        <ul class="navbar-nav mr-auto justify-content-between ml-auto w-100">
                            <li class="nav-item active">
                                <a class="nav-link" href="/user/index.html">Trang chủ</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="/user/gioithieu.html">Giới thiệu</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#">Sản phẩm</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="/user/lienhe.html">Liên hệ</a>
                            </li>

                        </ul>

                    </div>
                </div>

                <!-- Form tìm kiếm -->
                <div class="col-12 col-md-3 d-flex align-items-center justify-content-center">

                </div>
                <!-- Giỏ hàng và đăng nhập -->
                <div class="col-12 col-md-3 d-flex align-items-center justify-content-end ms-auto d-none d-md-block">
                    <ul class="navbar-nav ms-auto d-flex w-100 p-0 m-0">
                        <li class="nav-item d-flex flex-grow-1 text-nowrap w-25 position-relative">
                            <a class="nav-link w-50 position-relative" onclick="showOverlay()">
                                Giỏ hàng
                                <span class="position-relative">
                                    <i class="fa-sharp fa-solid fa-cart-shopping"></i>
                                    <span id="cart-count"
                                        class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"
                                        style="font-size: 0.6rem; padding: 4px 6px;">
                                        0
                                    </span>
                                </span>
                            </a>
                        </li>

                        <li class="nav-item d-flex flex-grow-1 text-nowrap w-25" id="userNavItem">
                            <a class="nav-link w-50" href="dangnhap.html" id="userNavLink"> Đăng nhập <i
                                    class="fa-solid fa-user"></i></a>
                        </li>
                    </ul>
                </div>


            </div>

        </div>
    </nav>
    <!-- end header -->
    <main role="main">
        <div class="container">
            <div class="row">
                <div class="col-12 col-md-4 d-flex align-items-center pt-4 pb-3">
                    <span class="text-center w-25 p-1">Tìm kiếm</span>
                    <form class="w-100">
                        <input class="form-control p-3 w-100" type="text" id="search-input"
                            placeholder="Tìm kiếm sản phẩm" aria-label="Search">
                    </form>
                </div>
            </div>
        </div>
        <div class="container">
            <div class="row">
                <div class="col-md-3 d-none d-md-block" id="sidebar">
                    <div class="d-flex flex-column flex-shrink-0 p-3 bg-light d-none d-md-block " style="width: 280px;">
                        <a href="#"
                            class="d-flex align-items-center mb-3 mb-md-0 me-md-auto link-dark text-decoration-none">

                            <span class="fs-4 w-100 text-center p-0">Danh mục Sản phẩm</span>
                        </a>
                        <hr>
                        <ul class="nav nav-pills flex-column mb-auto" id="sidebar-filter">
                            <li class="nav-item">
                                <a href="#" class="nav-link active" data-filter="all" aria-current="page">
                                    <svg class="bi me-2" width="16" height="16">
                                        <use xlink:href="#home"></use>
                                    </svg>
                                    Tất cả
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="#" class="nav-link link-dark" data-filter="hot">
                                    <svg class="bi me-2" width="16" height="16">
                                        <use xlink:href="#home"></use>
                                    </svg>
                                    Sản phẩm Hot
                                </a>
                            </li>
                            <li>
                                <a href="#" class="nav-link link-dark" data-filter="tcvietnam">
                                    <svg class="bi me-2" width="16" height="16">
                                        <use xlink:href="#speedometer2"></use>
                                    </svg>
                                    Trái cây Việt Nam
                                </a>
                            </li>
                            <li>
                                <a href="#" class="nav-link link-dark" data-filter="tcnhapkhau">
                                    <svg class="bi me-2" width="16" height="16">
                                        <use xlink:href="#table"></use>
                                    </svg>
                                    Trái cây Nhập khẩu
                                </a>
                            </li>
                            <li>
                                <a href="#" class="nav-link link-dark" data-filter="combo">
                                    <svg class="bi me-2" width="16" height="16">
                                        <use xlink:href="#grid"></use>
                                    </svg>
                                    Combo Trái cây
                                </a>
                            </li>
                            <li>
                                <a href="#" class="nav-link link-dark" data-filter="gioqua">
                                    <svg class="bi me-2" width="16" height="16">
                                        <use xlink:href="#people-circle"></use>
                                    </svg>
                                    Giỏ quà Trái cây
                                </a>
                            </li>
                        </ul>
                        <hr>
                        <ul class="nav nav-pills flex-column mb-auto" id="sidebar-filter">
                            <a href="#"
                                class="d-flex align-items-center mb-3 mb-md-0 me-md-auto link-dark text-decoration-none">
                                <svg class="bi me-2" width="40" height="32">
                                    <use xlink:href="#bootstrap"></use>
                                </svg>
                                <span class="fs-4">Trái cây theo mùa</span>
                            </a>

                            <li>
                                <a href="#" class="nav-link link-dark" data-filter="muaxuan">
                                    <svg class="bi me-2" width="16" height="16">
                                        <use xlink:href="#speedometer2"></use>
                                    </svg>
                                    Xuân
                                </a>
                            </li>
                            <li>
                                <a href="#" class="nav-link link-dark" data-filter="muaha">
                                    <svg class="bi me-2" width="16" height="16">
                                        <use xlink:href="#table"></use>
                                    </svg>
                                    Hạ
                                </a>
                            </li>
                            <li>
                                <a href="#" class="nav-link link-dark" data-filter="muathu">
                                    <svg class="bi me-2" width="16" height="16">
                                        <use xlink:href="#grid"></use>
                                    </svg>
                                    Thu
                                </a>
                            </li>
                            <li>
                                <a href="#" class="nav-link link-dark" data-filter="muadong">
                                    <svg class="bi me-2" width="16" height="16">
                                        <use xlink:href="#people-circle"></use>
                                    </svg>
                                    Đông
                                </a>
                            </li>
                        </ul>
                        <div class="">
                            <select id="price-filter" class="form-select">
                                <optgroup label="Lọc theo khoảng giá">
                                    <option value="price_all">Tất cả giá</option>
                                    <option value="price_0-100000">Dưới 100.000 VNĐ</option>
                                    <option value="price_100000-200000">100.000 - 200.000 VNĐ</option>
                                    <option value="price_200000-500000">200.000 - 500.000 VNĐ</option>
                                    <option value="price_500000-1000000">500.000 - 1.000.000 VNĐ</option>
                                </optgroup>

                                <optgroup label="Sắp xếp theo giá">
                                    <option value="sort_asc">Giá: Thấp đến Cao</option>
                                    <option value="sort_desc">Giá: Cao đến Thấp</option>
                                </optgroup>
                            </select>


                        </div>
                        <div class="container">
                            <div class="row" id="product-list">
                                <!-- col (card) sẽ được thêm vào bằng JS -->
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-md-9 product-section bg-light">
                    <!-- Danh mục mobile (chỉ hiện trên thiết bị nhỏ) -->
                    <div class="d-block d-md-none mb-3">

                        <!-- Bộ lọc loại sản phẩm -->
                        <div class="btn-group w-100 flex-wrap mb-2" role="group">
                            <button class="btn btn-outline-primary" data-filter="all">Tất cả</button>
                            <button class="btn btn-outline-primary" data-filter="hot">Hot</button>
                            <button class="btn btn-outline-primary" data-filter="tcvietnam">Trái cây VN</button>
                            <button class="btn btn-outline-primary" data-filter="tcnhapkhau">Nhập khẩu</button>
                            <button class="btn btn-outline-primary" data-filter="combo">Combo</button>
                            <button class="btn btn-outline-primary" data-filter="gioqua">Giỏ quà</button>
                        </div>

                        <!-- Bộ lọc theo mùa -->
                        <div class="btn-group w-100 flex-wrap mb-3" role="group">
                            <button class="btn btn-outline-success" data-filter="muaxuan">Xuân</button>
                            <button class="btn btn-outline-success" data-filter="muaha">Hạ</button>
                            <button class="btn btn-outline-success" data-filter="muathu">Thu</button>
                            <button class="btn btn-outline-success" data-filter="muadong">Đông</button>
                        </div>

                        <!-- Bộ lọc giá -->
                        <select id="price-filter-mobile" class="form-select mb-3">
                            <optgroup label="Lọc theo khoảng giá">
                                <option value="price_all">Tất cả giá</option>
                                <option value="price_0-100000">Dưới 100.000 VNĐ</option>
                                <option value="price_100000-200000">100.000 - 200.000 VNĐ</option>
                                <option value="price_200000-500000">200.000 - 500.000 VNĐ</option>
                                <option value="price_500000-1000000">500.000 - 1.000.000 VNĐ</option>
                            </optgroup>
                            <optgroup label="Sắp xếp theo giá">
                                <option value="sort_asc">Giá: Thấp đến Cao</option>
                                <option value="sort_desc">Giá: Cao đến Thấp</option>
                            </optgroup>
                        </select>
                    </div>


                    <div class="container row g-5 p-2 w-100" id="product-content"></div>
                    <nav aria-label="Page navigation example">
                        <ul class="pagination justify-content-center mt-4" id="pagination"></ul>
                    </nav>
                </div>
            </div>

        </div>

    </main>

    <footer class="mt-auto py-3">
        <div class="p-4"></div>
        <hr>
        <div class="p-3 bg-light"></div>
        <div class="container-fluid bg-light">
            <div class="container">
                <div class="row">
                    <div class="col-md-3 d-none d-md-block">
                        <div><b>Bản quyền của Công ty TNHH Morning Fruit</b></div>
                        <div>
                            Giấy chứng nhận Đăng ký Kinh doanh số 03164646 do Sở Kế hoạch và Đầu tư Tỉnh Hậu Giang cấp
                            ngày
                            02/01/2025. </div>
                    </div>

                    <div class="col-md-3">
                        <div><b>Địa chỉ : </b>Xã Hòa An, huyện Long Mỹ, tỉnh Hậu Giang</div>
                        <div><b>Số điện thoại : </b>0326754284</div>
                        <div><b>Emai : </b>traicay@gmail.com</div>
                    </div>

                    <div class="col-md-3 d-none d-md-block">
                        <div><b>Hổ trợ khách hàng</b></div>
                        <div>
                            <ul>
                                <li>Chính sách kiểm hàng</li>
                                <li>Chính sách bảo hành</li>
                                <li>Chính sách giao hàng</li>
                                <li>Chính sách thanh toán</li>
                                <li>Hướng dẫn mua hàng Online</li>
                                <li>Kiến thức trái cây</li>
                                <li>Liên hệ</li>

                            </ul>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div><b>Chăm sóc khách hàng</b></div>
                        <div>
                            <b>Số điện thoại : </b>0326754284
                        </div>
                        <div>
                            <b>Email : </b>traicay@gmail.com
                        </div>
                        <div><b>Các trang mạng xã hội khác</b></div>
                        <div>
                            <a href="https://github.com/DuyPhamziz/traicaybonmua.com">
                                <i class="fa-brands fa-facebook p-3 fs-3"></i> </a>
                            <a href="https://github.com/DuyPhamziz/traicaybonmua.com">
                                <i class="fa-brands fa-square-instagram p-3 fs-3"></i></a>
                            <a href="https://github.com/DuyPhamziz/traicaybonmua.com">
                                <i class="fa-brands fa-square-github p-3 fs-3"></i></a>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </footer>
    <hr class="p-0">
    <div class="text-center fw-bold bg-success text-white" style="text-decoration: none;">
        Copyright &copy 2025 - Nhóm 2 lập trình web
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const currentUser = JSON.parse(localStorage.getItem("currentUser"));
            const userNavItem = document.getElementById("userNavItem");

            if (currentUser && userNavItem) {
                userNavItem.innerHTML = `
            <div class="nav-item dropdown w-100">
                <a class="nav-link dropdown-toggle" href="#" id="navbarUserDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                    Chào, ${currentUser.userFullName} <i class="fa-solid fa-user"></i>
                </a>
                <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarUserDropdown">
                    <li><a class="dropdown-item" href="#" id="logoutBtn">Đăng xuất</a></li>
                </ul>
            </div>
        `;

                // Sự kiện Đăng xuất
                document.getElementById("logoutBtn").addEventListener("click", function (e) {
                    e.preventDefault();
                    localStorage.removeItem("currentUser");
                    window.location.href = "/index.html";
                });
            }
        });
        document.addEventListener("DOMContentLoaded", function () {
            const sidebar = document.querySelector('#sidebar');
            const sidebarLinks = sidebar.querySelectorAll('.nav-link');

            sidebarLinks.forEach(link => {
                link.addEventListener('click', function (e) {
                    e.preventDefault();

                    // Bỏ class active khỏi tất cả link trong sidebar
                    sidebarLinks.forEach(l => {
                        l.classList.remove('text-white', 'bg-success');
                        l.classList.add('link-dark');
                    });

                    // Thêm class active vào link được chọn
                    this.classList.remove('link-dark');
                    this.classList.add('text-white', 'bg-success');
                });
            });
        });
    </script>
    <script src="/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="/admin/asset/js/product.js"></script>
    <script src="/admin/asset/js/cart.js"></script>
    <div id="cart-overlay" class="position-fixed top-0 end-0 bg-light shadow-lg p-3 rounded-start"
        style="width: 400px; max-height: 67vh; margin-top: 60px; z-index: 1050; display: none; overflow-y: auto;">
        <div class="d-flex justify-content-between align-items-center mb-3">
            <h5 class="mb-0"><i class="fa-solid fa-cart-shopping"></i> Giỏ hàng</h5>
            <button type="button" onclick="closeOverlay()" class="btn btn-sm btn-outline-secondary">Đóng</button>
        </div>
        <div id="cart-items" class="mb-3"></div>
        <div class="border-top pt-3">
            <h6>Tổng cộng: <span id="cart-total" class="text-danger fw-bold">0 VNĐ</span></h6>
            <button class="btn btn-success w-100 mt-2"><a style="text-decoration: none; color: white;"
                    href="/user/giohang.html">Đi tới giỏ hàng >></a></button>
        </div>
    </div>
    <script src="/admin/asset/js/logout.js"></script>
</body>

</html>